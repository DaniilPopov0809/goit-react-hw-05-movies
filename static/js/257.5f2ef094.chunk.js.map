{"version":3,"file":"static/js/257.5f2ef094.chunk.js","mappings":"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","sources":["pages/MovieDetails/MovieDetails.styled.jsx","pages/MovieDetails/MovieDetails.jsx","utils/API.js"],"sourcesContent":["import styled from '@emotion/styled';\nimport { Link, NavLink } from 'react-router-dom';\n\nexport const CardSection = styled.section`\npadding: 10px 0;\n\n  border-bottom: 1px solid var(--link-color);\n`;\n\n\nexport const BackLink = styled(Link)`\n  display: inline-block;\n  border: 1px solid var(--link-color);\n  border-radius: 10px;\n  padding: 4px 10px;\n  margin-bottom: 5px;\n  color: var(--link-color);\n  transition: border-color 200ms cubic-bezier(0.4, 0, 0.2, 1);\n\n  &:focus,\n  &:hover {\n    border-color: var(--accent-color);\n  }\n\n  &:active {\n    background-color: var(--accent-color);\n    border-color: var(--accent-color);\n  }\n`;\n\nexport const InfoWrapper = styled.div``;\n\nexport const DeteilsWrapper = styled.div`  \n  @media screen and (min-width: 768px) {\n    display: flex;\n  }\n\n  @media screen and (min-width: 1280px) {\n    display: flex;\n  }\n`;\n\nexport const Image = styled.img`\n  width: 100%;\n\n  @media screen and (min-width: 768px) {\n    width: 350px;\n    margin-right: 20px;\n  }\n`;\nexport const Description = styled.div`\n  color: var(--secondary-text-color);\n  margin-bottom: 15px;\n`;\n\nexport const Title = styled.h2`\n  margin-bottom: 10px;\n`;\n\nexport const SubTitle = styled.h3`\n  margin-bottom: 10px;\n`;\n\nexport const AdditionalSection = styled.section`\ndisplay: flex;\nflex-direction: column;\njustify-content: center;\nalign-items: center;\npadding: 10px 0;\nborder-bottom: 1px solid var(--link-color);\n`;\n\n\nexport const AdditionalLink = styled(NavLink)`\n  display: inline-block;\n  padding: 4px 10px;\n  font-size: 18px;\n  font-weight: 500;\n  color: var(--link-color);\n  border-radius: 10px;\n  border: 1px solid var(--link-color);\n\n  transition: border-color 200ms cubic-bezier(0.4, 0, 0.2, 1);\n\n  &:focus,\n  &:hover {\n    border-color: var(--accent-color);\n  }\n\n  &.active {\n    color: var(--accent-color);\n  }\n`;\n\nexport const AdditionalList = styled.ul`\n  display: flex;\n  gap: 5px;\n  \n`;\n","import { Suspense } from 'react';\nimport { toast } from 'react-toastify';\nimport { MdOutlineArrowBackIos } from 'react-icons/md';\nimport { Outlet, useLocation, useParams } from 'react-router-dom';\nimport { useState, useEffect, useRef } from 'react';\nimport Loader from 'components/Loader/Loader';\nimport { getFilmDetailsAPI } from '../../utils/API';\nimport { LoaderWrapper } from '../../components/Layout/Layout.styled';\nimport {\n  CardSection,\n  BackLink,\n  InfoWrapper,\n  DeteilsWrapper,\n  Image,\n  Description,\n  Title,\n  SubTitle,\n  AdditionalSection,\n  AdditionalLink,\n  AdditionalList,\n} from './MovieDetails.styled';\n\n\n\nconst IMGPATH = 'https://image.tmdb.org/t/p/original';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n\n  const [movieDetails, setMovieDetails] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [genres, setGenres] = useState('');\n\n  const location = useLocation();\n  const backLocationRef = useRef(location.state?.from ?? '/');\n\n  useEffect(() => {\n    const getMovieDetails = async () => {\n      setIsLoading(true);\n      try {\n        const data = await getFilmDetailsAPI(movieId);\n\n        setMovieDetails(data);\n        console.log(data);\n        setGenres(\n          data.genres.reduce((acc, value, index, array) => {\n            if (index !== array.length - 1) {\n              acc += `${value.name}/`;\n            }\n            if (index === array.length - 1) {\n              acc += `${value.name}`;\n            }\n            return acc;\n          }, '')\n        );\n      } catch {\n        toast.error('Oops, something went wrong!');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    getMovieDetails();\n  }, [movieId, genres.length]);\n\n  const { poster_path, title, vote_average, overview } = movieDetails;\n\n  return (\n    <>\n      <CardSection>\n      <BackLink to={backLocationRef.current}>\n        <MdOutlineArrowBackIos size={12} />\n        Go Back\n      </BackLink>\n      {isLoading && Loader}\n\n      <DeteilsWrapper>\n        <Image src={`${IMGPATH}${poster_path}`} alt={title} width={350} />\n        <InfoWrapper>\n          <Title>{title}</Title>\n          <Description>\n            User score: {Math.round(vote_average * 10)}%\n          </Description>\n          <SubTitle>Overview</SubTitle>\n          <Description>{overview}</Description>\n          <SubTitle>Genres</SubTitle>\n          {<Description>{genres}</Description>}\n        </InfoWrapper>\n      </DeteilsWrapper>\n      </CardSection>\n\n      <AdditionalSection>\n      \n      <Title>Additional information</Title>\n      <AdditionalList>\n        <li>\n          <AdditionalLink to=\"cast\" state={{ from: location }}>\n            Cast\n          </AdditionalLink>\n        </li>\n        <li>\n          <AdditionalLink to=\"reviews\" state={{ from: location }}>\n            Reviews\n          </AdditionalLink>\n        </li>\n      </AdditionalList>\n      </AdditionalSection>\n      <Suspense\n        fallback={\n          <LoaderWrapper>\n            <Loader />\n          </LoaderWrapper>\n        }\n      >\n        <Outlet />\n      </Suspense>\n      \n    </>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst PARAMS = {\n  params: {\n    api_key: '5928663a35cf4a3fefab8899a0242484',\n  },\n};\n\nasync function getTrendingFilmAPI() {\n  const response = await axios.get(`${BASE_URL}trending/movie/day`, PARAMS);\n  const data = response.data;\n  return data;\n}\n\nasync function getFilmDetailsAPI(movieId) {\n  const response = await axios.get(`${BASE_URL}movie/${movieId}`, PARAMS);\n  const data = response.data;\n  return data;\n}\n\nasync function getCreditsFilmAPI(movieId) {\n  const response = await axios.get(\n    `${BASE_URL}movie/${movieId}/credits`,\n    PARAMS\n  );\n  const data = response.data;\n  return data;\n}\n\nasync function getReviewsFilmAPI(movieId) {\n  const response = await axios.get(\n    `${BASE_URL}movie/${movieId}/reviews`,\n    PARAMS\n  );\n  const data = response.data;\n  return data;\n}\n\nasync function getSearchFilmAPI(searchMovie) {\n  const KEY = '5928663a35cf4a3fefab8899a0242484'\n  const response = await axios.get(\n    `${BASE_URL}search/movie?api_key=${KEY}&language=en-US&query=${searchMovie}&page=1&include_adult=false`);\n  const data = response.data;\n  return data;\n}\n\nexport {\n  getTrendingFilmAPI,\n  getCreditsFilmAPI,\n  getFilmDetailsAPI,\n  getReviewsFilmAPI,\n  getSearchFilmAPI,\n};\n"],"names":["CardSection","styled","BackLink","Link","InfoWrapper","DeteilsWrapper","Image","Description","Title","SubTitle","AdditionalSection","AdditionalLink","NavLink","AdditionalList","movieId","useParams","useState","movieDetails","setMovieDetails","isLoading","setIsLoading","genres","setGenres","location","useLocation","backLocationRef","useRef","state","from","useEffect","getMovieDetails","getFilmDetailsAPI","data","console","log","reduce","acc","value","index","array","length","name","toast","poster_path","title","vote_average","overview","to","current","size","Loader","src","alt","width","Math","round","Suspense","fallback","BASE_URL","PARAMS","params","api_key","getTrendingFilmAPI","axios","response","getCreditsFilmAPI","getReviewsFilmAPI","getSearchFilmAPI","searchMovie"],"sourceRoot":""}