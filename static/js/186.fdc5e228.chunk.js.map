{"version":3,"file":"static/js/186.fdc5e228.chunk.js","mappings":"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","sources":["components/Reviews/Reviews.jsx","components/Reviews/Reviews.styled.jsx","utils/API.js"],"sourcesContent":["import { useParams } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport { toast } from 'react-toastify';\nimport Loader from 'components/Loader/Loader';\nimport { LoaderWrapper } from '../Layout/Layout.styled';\nimport { getReviewsFilmAPI } from 'utils/API';\nimport {\n  List,\n  Item,\n  Title,\n  Description,\n  Image,\n  ItemWrap,\n  Date,\n  Message,\n} from './Reviews.styled';\nimport NotFoundAvatar from '../../image/not_found_avatar.png';\n\nconst Reviews = () => {\n  const { movieId } = useParams();\n\n  const [isLoading, setIsLoading] = useState(false);\n  const [reviews, setReviews] = useState([]);\n\n  useEffect(() => {\n    const getReviews = async () => {\n      setIsLoading(true);\n      try {\n        const data = await getReviewsFilmAPI(movieId);\n        setReviews(data.results);\n      } catch {\n        toast.error('Oops, something went wrong!');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    getReviews();\n  }, [movieId]);\n\n  const getDate = str => {\n    return `${str.slice(0, 10)} ${str.slice(11, 16)}`;\n  };\n\n  const checkAvatar = avatar => {\n    let path = '';\n    if (avatar.avatar_path) {\n      path = avatar.avatar_path.slice(1);\n    }\n\n    if (!avatar.avatar_path || avatar.avatar_path.length < 40) {\n      path = NotFoundAvatar;\n    }\n    return path;\n  };\n\n  return (\n    <>\n      {isLoading && (\n        <LoaderWrapper>\n          <Loader />\n        </LoaderWrapper>\n      )}\n      {!isLoading && reviews.length === 0 ? (\n        <Message>We don't reviews for this movie...</Message>\n      ) : (\n        <List>\n          {reviews.map(\n            ({ author, content, id, author_details, updated_at }) => {\n              const getdDate = getDate(updated_at);\n              const pathAvatar = checkAvatar(author_details);\n              return (\n                <Item key={id}>\n                  <Image src={pathAvatar} alt={author_details.username} />\n                  <ItemWrap>\n                    <Title>{author}</Title>\n                    <Date>{getdDate}</Date>\n                    <Description>{content}</Description>\n                  </ItemWrap>\n                </Item>\n              );\n            }\n          )}\n        </List>\n      )}\n    </>\n  );\n};\n\nexport default Reviews;\n","import styled from '@emotion/styled';\n\nexport const List = styled.ul`\n  /* border-bottom: 1px solid var(--link-color); */\n  padding: 10px 0;\n`;\n\nexport const Item = styled.li`\n  display: flex;\n  padding: 10px;\n\n  box-shadow: var(--shadow);\n\n  border: 1px solid var(--link-color);\n  border-radius: 10px;\n  overflow: hidden;\n\n  &:not(:last-child) {\n    margin-bottom: 10px;\n  }\n`;\n\nexport const Description = styled.p`\n  color: var(--secondary-text-color);\n`;\n\nexport const Title = styled.h3`\n  color: var(--link-color);\n  margin-bottom: 5px;\n`;\n\nexport const Image = styled.img`\n  max-width: 80px;\n  max-height: 80px;\n  border: none;\n  border-radius: 50%;\n  margin-right: 10px;\n`;\n\nexport const ItemWrap = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nexport const Date = styled.p`\n  margin-bottom: 10px;\n  font-size: 14px;\n  font-weight: 500;\n`;\n\nexport const Message = styled.p`\n  text-align: center;\n  border-bottom: 1px solid var(--link-color);\n  padding: 10px 0;\n  font-weight: 500;\n`;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst PARAMS = {\n  params: {\n    api_key: '5928663a35cf4a3fefab8899a0242484',\n  },\n};\n\nasync function getTrendingFilmAPI(param) {\n  const response = await axios.get(\n    `${BASE_URL}trending/movie/${param}`,\n    PARAMS\n  );\n  const data = response.data;\n  return data;\n}\n\nasync function getFilmDetailsAPI(movieId) {\n  const response = await axios.get(`${BASE_URL}movie/${movieId}`, PARAMS);\n  const data = response.data;\n  return data;\n}\n\nasync function getCreditsFilmAPI(movieId) {\n  const response = await axios.get(\n    `${BASE_URL}movie/${movieId}/credits`,\n    PARAMS\n  );\n  const data = response.data;\n  return data;\n}\n\nasync function getReviewsFilmAPI(movieId) {\n  const response = await axios.get(\n    `${BASE_URL}movie/${movieId}/reviews`,\n    PARAMS\n  );\n  const data = response.data;\n  return data;\n}\n\nasync function getSearchFilmAPI(searchMovie) {\n  const KEY = '5928663a35cf4a3fefab8899a0242484';\n  const response = await axios.get(\n    `${BASE_URL}search/movie?api_key=${KEY}&language=en-US&query=${searchMovie}&page=1&include_adult=false`\n  );\n  const data = response.data;\n  return data;\n}\n\nexport {\n  getTrendingFilmAPI,\n  getCreditsFilmAPI,\n  getFilmDetailsAPI,\n  getReviewsFilmAPI,\n  getSearchFilmAPI,\n};\n"],"names":["movieId","useParams","useState","isLoading","setIsLoading","reviews","setReviews","useEffect","getReviews","getReviewsFilmAPI","data","results","toast","length","map","str","author","content","id","author_details","updated_at","getdDate","slice","pathAvatar","avatar","path","avatar_path","NotFoundAvatar","checkAvatar","src","alt","username","List","styled","Item","Description","Title","Image","ItemWrap","Date","Message","BASE_URL","PARAMS","params","api_key","getTrendingFilmAPI","param","axios","response","getFilmDetailsAPI","getCreditsFilmAPI","getSearchFilmAPI","searchMovie"],"sourceRoot":""}